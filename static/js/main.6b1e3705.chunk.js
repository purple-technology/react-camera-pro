(this["webpackJsonpreact-camera-pro-example"]=this["webpackJsonpreact-camera-pro-example"]||[]).push([[0],{13:function(e,n,t){e.exports=t(24)},18:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),a=t(8),o=t.n(a),c=(t(18),t(3)),u=t(2),d=t(1);function s(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var l,p,v,f,b,g=d.a.div(l||(l=s(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),m=d.a.div(p||(p=s(["\n  width: 100%;\n  ","\n"],["\n  width: 100%;\n  ","\n"])),(function(e){var n=e.aspectRatio;return"cover"===n?"\n    position: absolute;\n    bottom: 0\n    top: 0\n    left: 0\n    right: 0":"\n    position: relative;\n    padding-bottom: "+100/n+"%;"})),h=d.a.div(v||(v=s(["\n  padding: 40px;\n"],["\n  padding: 40px;\n"]))),w=d.a.video(f||(f=s(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"],["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"])),(function(e){return e.mirrored?"180deg":"0deg"})),x=d.a.canvas(b||(b=s(["\n  display: none;\n"],["\n  display: none;\n"]))),k=i.a.forwardRef((function(e,n){var t=e.facingMode,a=void 0===t?"user":t,o=e.aspectRatio,c=void 0===o?"cover":o,u=e.numberOfCamerasCallback,d=void 0===u?function(){return null}:u,s=e.errorMessages,l=void 0===s?{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}:s,p=Object(r.useRef)(null),v=Object(r.useRef)(null),f=Object(r.useRef)(null),b=Object(r.useState)(0),k=b[0],O=b[1],E=Object(r.useState)(null),y=E[0],C=E[1],z=Object(r.useState)(a),P=z[0],M=z[1],R=Object(r.useState)(!1),D=R[0],U=R[1],S=Object(r.useState)(!1),I=S[0],A=S[1];return Object(r.useEffect)((function(){d(k)}),[k]),Object(r.useImperativeHandle)(n,(function(){return{takePhoto:function(){var e,n,t,r,i,a,o,c,u,d;if(k<1)throw new Error(l.noCameraAccessible);if(null===(e=v)||void 0===e?void 0:e.current){var s=(null===(t=null===(n=p)||void 0===n?void 0:n.current)||void 0===t?void 0:t.videoWidth)||1280,b=(null===(i=null===(r=p)||void 0===r?void 0:r.current)||void 0===i?void 0:i.videoHeight)||720,g=s/b,m=((null===(o=null===(a=f)||void 0===a?void 0:a.current)||void 0===o?void 0:o.offsetWidth)||1280)/((null===(u=null===(c=f)||void 0===c?void 0:c.current)||void 0===u?void 0:u.offsetHeight)||1280),h=void 0,w=void 0,x=void 0,j=void 0;g>m?(j=b,h=(s-(x=b*m))/2,w=0):(x=s,h=0,w=(b-(j=s/m))/2),v.current.width=x,v.current.height=j;var O=v.current.getContext("2d");return O&&(null===(d=p)||void 0===d?void 0:d.current)&&O.drawImage(p.current,h,w,x,j,0,0,x,j),v.current.toDataURL("image/jpeg")}throw new Error(l.canvas)},switchCamera:function(){if(k<1)throw new Error(l.noCameraAccessible);k<2&&console.error("Error: Unable to switch camera. Only one device is accessible.");var e="user"===P?"environment":"user";return M(e),e},getNumberOfCameras:function(){return k}}})),Object(r.useEffect)((function(){j(y,C,P,O,U,A)}),[P]),Object(r.useEffect)((function(){return y&&p&&p.current&&(p.current.srcObject=y),function(){y&&y.getTracks().forEach((function(e){e.stop()}))}}),[y]),i.a.createElement(m,{ref:f,aspectRatio:c},i.a.createElement(g,null,D?i.a.createElement(h,null,l.noCameraAccessible):null,I?i.a.createElement(h,null,l.permissionDenied):null,i.a.createElement(w,{ref:p,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:"user"===P}),i.a.createElement(x,{ref:v})))}));k.displayName="Camera";var j=function(e,n,t,r,i,a){var o,c;e&&e.getTracks().forEach((function(e){e.stop()}));var u={audio:!1,video:{facingMode:t,width:{ideal:1920},height:{ideal:1920}}};if(null===(c=null===(o=navigator)||void 0===o?void 0:o.mediaDevices)||void 0===c?void 0:c.getUserMedia)navigator.mediaDevices.getUserMedia(u).then((function(e){n(O(e,r))})).catch((function(e){E(e,i,a)}));else{var d=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;d?d(u,(function(e){n(O(e,r))}),(function(e){E(e,i,a)})):i(!0)}},O=function(e,n){return navigator.mediaDevices.enumerateDevices().then((function(e){return n(e.filter((function(e){return"videoinput"===e.kind})).length)})),e},E=function(e,n,t){console.error(e),"PermissionDeniedError"===e.name?t(!0):n(!0)};function y(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  position: absolute;\n  background-color: black;\n  ","\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return y=function(){return e},e}function C(){var e=Object(u.a)(["\n  width: 120px;\n  height: 120px;\n  ","\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  @media (max-width: 400px) {\n    width: 50px;\n    height: 120px;\n  }\n"]);return C=function(){return e},e}function z(){var e=Object(u.a)(["\n  background: url(https://img.icons8.com/ios/50/000000/switch-camera.png);\n  background-position: center;\n  background-size: 40px;\n  background-repeat: no-repeat;\n  width: 40px;\n  height: 40px;\n  padding: 40px;\n  &:disabled {\n    opacity: 0;\n    cursor: default;\n    padding: 60px;\n  }\n  @media (max-width: 400px) {\n    padding: 40px 5px;\n    &:disabled {\n      padding: 40px 25px;\n    }\n  }\n"]);return z=function(){return e},e}function P(){var e=Object(u.a)(["\n  background: url('https://img.icons8.com/ios/50/000000/compact-camera.png');\n  background-position: center;\n  background-size: 50px;\n  background-repeat: no-repeat;\n  width: 80px;\n  height: 80px;\n  border: solid 4px black;\n  border-radius: 50%;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.3);\n  }\n"]);return P=function(){return e},e}function M(){var e=Object(u.a)(["\n  outline: none;\n  color: white;\n  opacity: 1;\n  background: transparent;\n  background-color: transparent;\n  background-position-x: 0%;\n  background-position-y: 0%;\n  background-repeat: repeat;\n  background-image: none;\n  padding: 0;\n  text-shadow: 0px 0px 4px black;\n  background-position: center center;\n  background-repeat: no-repeat;\n  pointer-events: auto;\n  cursor: pointer;\n  z-index: 2;\n  filter: invert(100%);\n  border: none;\n\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return M=function(){return e},e}function R(){var e=Object(u.a)(["\n  position: fixed;\n  display: flex;\n  right: 0;\n  width: 20%;\n  min-width: 130px;\n  min-height: 130px;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 50px;\n  box-sizing: border-box;\n  flex-direction: column-reverse;\n\n  @media (max-aspect-ratio: 1/1) {\n    flex-direction: row;\n    bottom: 0;\n    width: 100%;\n    height: 20%;\n  }\n\n  @media (max-width: 400px) {\n    padding: 10px;\n  }\n"]);return R=function(){return e},e}function D(){var e=Object(u.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n"]);return D=function(){return e},e}var U=d.a.div(D()),S=d.a.div(R()),I=d.a.button(M()),A=Object(d.a)(I)(P()),G=Object(d.a)(I)(z()),N=d.a.div(C(),(function(e){var n=e.image;return n?"background-image:  url(".concat(n,");"):""})),W=d.a.div(y(),(function(e){var n=e.image;return n?"background-image:  url(".concat(n,");"):""})),H=function(){var e=Object(r.useState)(0),n=Object(c.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(null),u=Object(c.a)(o,2),d=u[0],s=u[1],l=Object(r.useState)(!1),p=Object(c.a)(l,2),v=p[0],f=p[1],b=Object(r.useRef)(null);return i.a.createElement(U,null,v?i.a.createElement(W,{image:d,onClick:function(){f(!v)}}):i.a.createElement(k,{ref:b,aspectRatio:"cover",numberOfCamerasCallback:a,errorMessages:{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}}),i.a.createElement(S,null,i.a.createElement(N,{image:d,onClick:function(){f(!v)}}),i.a.createElement(A,{onClick:function(){if(b.current){var e=b.current.takePhoto();console.log(e),s(e)}}}),i.a.createElement(G,{disabled:t<=1,onClick:function(){if(b.current){var e=b.current.switchCamera();console.log(e)}}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.6b1e3705.chunk.js.map